# 法律查看系统使用指南

## 🎯 系统概述
本系统实现了你最初要求的法律查看界面：
- **主界面**：包含五个法律类别按钮（如你的截图所示）
- **详细界面**：显示具体法律条文内容
- **书本交互**：点击场景中的书本物体打开法律界面

## 📁 文件结构
```
LawSystem/
├── Core/
│   └── LawDataSO.cs              # 法律数据ScriptableObject
├── UI/
│   └── LawViewerManager.cs       # 法律界面管理器
├── Interaction/
│   └── BookInteraction.cs        # 书本交互脚本
└── Utils/
    └── LawDataCreator.cs         # 法律数据创建工具
```

## 🛠️ 设置步骤

### 1. 创建法律数据资源
在Unity菜单栏选择：**Law System > Create Sample Law Data**

这会自动创建5个法律数据：
- 大宋刑统
- 断狱律
- 户婚律
- 斗讼律
- 贼盗律

### 2. 创建UI界面

#### 主界面（lawMainPanel）
创建一个Canvas，包含：
- **背景Panel**
- **5个Button**（用于五个法律类别）
- **关闭按钮**（X按钮）

#### 详细界面（lawDetailPanel）
创建另一个Canvas，包含：
- **背景Panel**
- **标题TextMeshPro**（显示法律标题）
- **ScrollRect** 包含 **内容TextMeshPro**（显示法律详细内容）
- **返回按钮**
- **关闭按钮**

### 3. 配置LawViewerManager（跨场景持久化）
**选项A：使用编辑器工具快速创建**
- Unity菜单栏 → `Law System` → `Create Law Viewer Manager`

**选项B：手动创建**
1. 在场景中创建空物体，命名为"LawViewerManager"
2. 添加`LawViewerManager`组件
3. 在Inspector中设置：
   - **Law Main Panel**: 拖拽主界面Panel
   - **Law Detail Panel**: 拖拽详细界面Panel
   - **按钮引用**: 拖拽5个法律类别按钮
   - **UI文本引用**: 拖拽标题和内容文本
   - **Law Data Array**: 拖拽5个法律数据ScriptableObject
   - **Don't Destroy On Load**: 勾选（默认已勾选）

### 4. 设置书本交互（简化版）
1. 选择场景中的书本物体
2. 确保物体有**Collider**组件（用于射线检测）
3. 添加`BookInteraction`组件
4. 设置（可选）：
   - **Highlight Material**: 鼠标悬停时的高亮材质
   - **Play Interaction Sound**: 是否播放交互音效

**注意**：BookInteraction会自动通过单例找到LawViewerManager，无需手动拖拽引用！

### 5. 跨场景使用
- LawViewerManager会自动在场景间保持，无需在每个场景重复设置
- BookInteraction在任何场景都能正常工作
- UIManager会自动与LawViewerManager集成

## 🎮 游戏中使用

### 玩家体验流程：
1. **鼠标悬停书本** → 显示高亮效果（如设置了高亮材质）
2. **点击书本** → 直接打开法律主界面（5个按钮）
3. **点击任意法律按钮** → 进入该法律的详细界面
4. **阅读法律条文** → 可滚动查看完整内容
5. **返回或关闭** → 返回主界面或完全关闭

### 快捷键：
- **鼠标左键**：点击书本交互
- **ESC键**：返回上级界面或关闭

## 🎨 自定义界面
你可以根据截图中的设计自由美化UI：
- 修改按钮样式和布局
- 添加背景图片
- 调整文字字体和颜色
- 添加UI动画效果

## 🔧 故障排除
- **界面无法打开**：检查LawViewerManager的UI引用是否正确
- **按钮无响应**：确保法律数据已正确拖拽到LawDataArray中
- **书本无法交互**：检查BookInteraction组件设置和LawViewerManager引用
- **内容显示异常**：检查TextMeshPro组件和ScrollRect设置

## 💡 扩展功能
系统支持轻松扩展：
- 添加更多法律条目
- 实现法律搜索功能
- 添加书签系统
- 集成语音朗读
- 添加历史记录

现在你的法律查看系统已经完全重建并准备就绪！
